(function(e){function t(t){for(var s,r,o=t[0],c=t[1],l=t[2],p=0,d=[];p<o.length;p++)r=o[p],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(d.length)d.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(s=!1)}s&&(n.splice(t--,1),e=r(r.s=a[0]))}return e}var s={},i={app:0},n=[];function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"09e0":function(e,t,a){},"2b56":function(e,t,a){"use strict";var s=a("09e0"),i=a.n(s);i.a},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bg-light",staticStyle:{"min-height":"100vh"},attrs:{id:"app"}},[a("navbar"),a("router-view")],1)},n=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark text-light"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"home"}}},[e._v("Keepr")]),e._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[e.$auth.isAuthenticated?a("li",{staticClass:"nav-item",class:{active:"dashboard"==e.$route.name}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"dashboard"}}},[e._v("My-Dashboard")])],1):e._e()]),a("span",{staticClass:"navbar-text"},[e.$auth.isAuthenticated?a("button",{staticClass:"btn btn-danger",on:{click:e.logout}},[e._v("logout")]):a("button",{staticClass:"btn btn-success",on:{click:e.login}},[e._v(" Login ")])])])],1)},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],c=a("bc3a"),l=a.n(c),u={name:"Navbar",methods:{async login(){try{await this.$auth.loginWithPopup(),await this.$auth.getUserData(),this.$store.dispatch("setBearer",this.$auth.bearer)}catch(e){console.error(e)}},async logout(){await this.$auth.logout(),this.$store.dispatch("resetBearer"),this.$router.push({name:"home"})}}},p=u,d=a("2877"),v=Object(d["a"])(p,r,o,!1,null,null,null),m=v.exports,h=a("335d"),b={name:"App",async beforeCreate(){await Object(h["c"])(),this.$store.dispatch("setBearer",this.$auth.bearer)},components:{Navbar:m}},f=b,g=Object(d["a"])(f,i,n,!1,null,null,null),w=g.exports,_=a("8c4f"),C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home container-fluid"},[e._m(0),a("div",{staticClass:"row"},e._l(e.keeps,(function(t){return a("div",{key:t.id,staticClass:"col-3 keep-cols",style:"height: 25vw; background-image: url("+t.img+"); background-size: cover;"},[a("h1",{staticClass:"keep-text"},[e._v(e._s(t.name))]),a("h3",{staticClass:"keep-text"},[e._v(e._s(t.description))]),a("div",{staticClass:"d-flex keep-buttons-div"},[a("router-link",{staticClass:"btn btn-info keep-buttons",attrs:{to:"/keeps/"+t.id,tag:"button"}},[e._v("View")]),a("button",{staticClass:"btn btn-warning keep-buttons",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v(" Keep ")]),a("div",{staticClass:"dropdown-menu border dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},e._l(e.vaults,(function(s){return a("a",{key:s.id,staticClass:"dropdown-item",attrs:{to:{name:"profile",params:{id:s._id}}},on:{click:function(a){return e.addKeepToVault(s.id,t.id)}}},[e._v(e._s(s.name))])})),0),a("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:function(){return e.location+"#/keeps/"+t.id},expression:"() => location + '\\#/keeps/' + keep.id"}],staticClass:"btn btn-success keep-buttons",on:{click:function(a){return e.share(t.id)}}},[e._v(" Share ")])],1)])})),0)])},K=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 db-title"},[a("h1",{staticClass:"mt-3 mb-3"},[e._v("Welcome Home")])])])}],k={name:"home",mounted(){this.$store.dispatch("getResource",{name:"keeps"}),this.$store.dispatch("getResource",{name:"vaults"})},computed:{user(){return this.$store.state.user},keeps(){return this.$store.state.keeps},vaults(){return this.$store.state.vaults},location(){return location.host}},methods:{logout(){this.$store.dispatch("logout")},addKeepToVault(e,t){this.$store.dispatch("addKeepToVault",{vaultId:e,keepId:t})},share(e){this.$store.dispatch("shareKeep",e)}}},y=k,$=(a("cccb"),Object(d["a"])(y,C,K,!1,null,null,null)),V=$.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard container-fluid bg-light"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 d-flex justify-content-between db-title pt-3 pb-3"},[a("h1",[e._v("WELCOME TO THE DASHBOARD, "+e._s(this.$auth.user.name))]),a("div",{staticClass:"align-self-center"},[a("button",{staticClass:"btn btn-keep",on:{click:function(t){e.displayingKeeps=!0}}},[e._v(" K ")]),a("button",{staticClass:"ml-2 btn btn-vault",on:{click:function(t){e.displayingKeeps=!1}}},[e._v(" V ")])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-8 offset-md-2"},[e.isKeeps?a("form",{staticClass:"mt-5",on:{submit:function(t){return t.preventDefault(),e.createKeep(t)}}},[a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newKeep.name,expression:"newKeep.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name",required:""},domProps:{value:e.newKeep.name},on:{input:function(t){t.target.composing||e.$set(e.newKeep,"name",t.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newKeep.description,expression:"newKeep.description"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Description",required:""},domProps:{value:e.newKeep.description},on:{input:function(t){t.target.composing||e.$set(e.newKeep,"description",t.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newKeep.img,expression:"newKeep.img"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Image Url"},domProps:{value:e.newKeep.img},on:{input:function(t){t.target.composing||e.$set(e.newKeep,"img",t.target.value)}}})])]),a("div",{staticClass:"form-group row"},[e._m(0),a("div",{staticClass:"col-sm-10"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newKeep.isPrivate,expression:"newKeep.isPrivate"}],staticClass:"form-check-input private-checkbox",attrs:{type:"checkbox","true-value":!1,"false-value":!0},domProps:{checked:Array.isArray(e.newKeep.isPrivate)?e._i(e.newKeep.isPrivate,null)>-1:e._q(e.newKeep.isPrivate,!1)},on:{change:function(t){var a=e.newKeep.isPrivate,s=t.target,i=!s.checked;if(Array.isArray(a)){var n=null,r=e._i(a,n);s.checked?r<0&&e.$set(e.newKeep,"isPrivate",a.concat([n])):r>-1&&e.$set(e.newKeep,"isPrivate",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.newKeep,"isPrivate",i)}}})])])]),e._m(1)]):a("form",{staticClass:"mt-5",on:{submit:function(t){return t.preventDefault(),e.createVault(t)}}},[a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newVault.name,expression:"newVault.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"thing",required:""},domProps:{value:e.newVault.name},on:{input:function(t){t.target.composing||e.$set(e.newVault,"name",t.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newVault.description,expression:"newVault.description"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Description",required:""},domProps:{value:e.newVault.description},on:{input:function(t){t.target.composing||e.$set(e.newVault,"description",t.target.value)}}})])]),e._m(2)])])]),e._m(3),e.vaults?a("div",{staticClass:"row scroll-x"},e._l(e.vaults,(function(t){return a("div",{key:t.id,staticClass:"col-3 border border-dark vault-cols"},[a("router-link",{attrs:{to:"/vaults/"+t.id}},[a("h5",{staticClass:"mb-4 text-center"},[e._v(e._s(t.name))]),a("p",{staticClass:"mt-4"},[e._v(e._s(t.description))])]),a("button",{staticClass:"btn btn-danger keep-buttons mb-2",on:{click:function(a){return e.deleteVault(t.id)}}},[e._v(" Delete ")])],1)})),0):e._e(),e._m(4),e.myKeeps?a("div",{staticClass:"row scroll-x"},e._l(e.myKeeps,(function(t){return a("div",{key:t.id,staticClass:"col-2 keep-cols",style:"height: 16vw; background-image: url("+t.img+"); background-size: cover; padding: 0 0;"},[a("h3",{staticClass:"keep-text"},[e._v(e._s(t.name))]),a("h5",{staticClass:"keep-text"},[e._v(e._s(t.description))]),a("button",{staticClass:"btn btn-danger keep-buttons",staticStyle:{position:"absolute",bottom:"0"},on:{click:function(a){return e.deleteKeep(t.id)}}},[e._v(" Delete ")])])})),0):e._e()])},P=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-2"},[a("b",[e._v("Mark as Public")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-sm-10"},[a("button",{staticClass:"btn btn-keep form-button",attrs:{type:"submit"}},[e._v(" Keep ")]),a("button",{staticClass:"btn btn-vault form-button",attrs:{type:"button"}},[e._v(" Reset ")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-sm-10"},[a("button",{staticClass:"btn btn-keep form-button",attrs:{type:"submit"}},[e._v(" Create ")]),a("button",{staticClass:"btn btn-vault form-button",attrs:{type:"button"}},[e._v(" Reset ")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 border-top border-secondary"},[a("h2",{},[e._v("My Vaults:")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h2",[e._v("My Keeps:")])])])}],O={name:"Dashboard",data(){return{newKeep:{name:"",description:"",img:"",isPrivate:!1},displayingKeeps:!0,newVault:{name:"",description:""}}},mounted(){this.$store.dispatch("getResource",{name:"vaults"}),this.$store.dispatch("getMyKeeps")},methods:{createKeep(){let e={...this.newKeep};this.$store.dispatch("createKeep",e),this.newKeep={name:"",description:"",img:"",isPrivate:!1}},createVault(){let e={...this.newVault};this.$store.dispatch("createVault",e),this.newVault={name:"",description:""}},deleteKeep(e){this.$store.dispatch("deleteKeep",e)},deleteVault(e){this.$store.dispatch("deleteVault",e)}},computed:{isKeeps(){return this.displayingKeeps},vaults(){return this.$store.state.vaults},myKeeps(){return this.$store.state.myKeeps}}},R=O,I=(a("2b56"),Object(d["a"])(R,x,P,!1,null,null,null)),E=I.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"keep-details container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-9"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("img",{attrs:{src:e.activeKeep.img,alt:""}}),a("h1",[e._v(e._s(e.activeKeep.name))])]),a("div",{staticClass:"col-12"},[a("p",[e._v(e._s(e.activeKeep.description))])])])]),a("div",{staticClass:"col-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[e._v("Views: "+e._s(e.activeKeep.views))]),a("div",{staticClass:"col-4"},[e._v("Shares: "+e._s(e.activeKeep.shares))]),a("div",{staticClass:"col-4"},[e._v("Keeps: "+e._s(e.activeKeep.keeps))])])])])])},D=[],T={name:"KeepDetails",data(){return{}},mounted(){this.$store.dispatch("getKeepById",this.$route.params.id)},computed:{activeKeep(){return this.$store.state.activeKeep}},methods:{}},A=T,B=Object(d["a"])(A,j,D,!1,null,null,null),M=B.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vault-details container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[e._v(" "+e._s(e.activeVault.name)+": "+e._s(e.activeVault.description)+" ")])]),e.activeKeeps?a("div",{staticClass:"row"},e._l(e.activeKeeps,(function(t){return a("div",{key:t.id,staticClass:"col-3 keep-cols",style:"height: 25vw; background-image: url("+t.img+"); background-size: cover;"},[a("h1",{staticClass:"keep-text"},[e._v(e._s(t.name))]),a("h3",{staticClass:"keep-text"},[e._v(e._s(t.description))]),a("i",{staticClass:"fas fa-times delete-icon",staticStyle:{position:"absolute",bottom:"0",right:"0"},on:{click:function(a){return e.removeKeepFromVault(e.activeVault.id,t.id)}}}),a("router-link",{staticClass:"btn btn-info keep-buttons",staticStyle:{position:"absolute",bottom:"3vh",right:"0"},attrs:{to:"/keeps/"+t.id,tag:"button"}},[e._v("View")])],1)})),0):e._e()])},N=[],F={name:"VaultDetails",data(){return{}},mounted(){this.$store.dispatch("getVaultById",this.$route.params.id)},computed:{activeVault(){return this.$store.state.activeVault},activeKeeps(){return this.$store.state.activeKeeps}},methods:{removeKeepFromVault(e,t){this.$store.dispatch("removeKeepFromVault",{vaultId:e,keepId:t})}}},q=F,U=(a("9948"),Object(d["a"])(q,S,N,!1,null,null,null)),z=U.exports;s["a"].use(_["a"]);var L=new _["a"]({routes:[{path:"/",name:"home",component:V},{path:"/dashboard",name:"dashboard",component:E,beforeEnter:h["b"]},{path:"/keeps/:id",name:"keepDetails",component:M},{path:"/vaults/:id",name:"vaultDetails",component:z}]}),W=a("2f62");s["a"].use(W["a"]);let H=location.host.includes("localhost")?"https://localhost:5001/":"/",J=l.a.create({baseURL:H+"api/",timeout:3e3,withCredentials:!0});var X=new W["a"].Store({state:{keeps:[],activeKeep:{},activeKeeps:[],myKeeps:[],vaults:[],activeVault:{}},mutations:{setResource(e,t){e[t.name]=t.data},setViews(e,t){e.activeKeep.views++},addResourceToArray(e,t){e[t.name].push(t.data)},removeKeepFromVault(e,t){let a=e.activeKeeps.findIndex(e=>e.id==t);e.activeKeeps.splice(a,1)},deleteKeep(e,t){let a=e.myKeeps.findIndex(e=>e.id==t);e.myKeeps.splice(a,1)},deleteVault(e,t){let a=e.vaults.findIndex(e=>e.id==t);e.vaults.splice(a,1)}},actions:{setBearer({},e){J.defaults.headers.Authorization=e},async getResource({commit:e,dispatch:t},a){let s=await J.get(a.name);a.data=s.data,e("setResource",a)},async getKeepById({commit:e,dispatch:t},a){let s=await J.get("keeps/"+a);e("setResource",{name:"activeKeep",data:s.data}),t("viewKeep",a)},async getVaultById({commit:e,dispatch:t},a){let s=await J.get("vaults/"+a);e("setResource",{name:"activeVault",data:s.data}),t("getKeepsByVaultId",a)},async getKeepsByVaultId({commit:e,dispatch:t},a){let s=await J.get("vaultkeeps/"+a+"/keeps");e("setResource",{name:"activeKeeps",data:s.data})},async viewKeep({commit:e,dispatch:t},a){let s=await J.put("keeps/"+a+"/view");e("setViews",s.data)},async keepKeep({commit:e,dispatch:t},a){await J.put("keeps/"+a+"/keep")},async shareKeep({commit:e,dispatch:t},a){await J.put("keeps/"+a+"/share")},async createKeep({commit:e,dispatch:t},a){let s=await J.post("keeps",a);e("addResourceToArray",{name:"keeps",data:s.data})},async createVault({commit:e,dispatch:t},a){let s=await J.post("vaults",a);e("addResourceToArray",{name:"vaults",data:s.data})},async addKeepToVault({commit:e,dispatch:t},a){await J.post("vaultkeeps",a);t("keepKeep",a.keepId)},async removeKeepFromVault({commit:e,dispatch:t},a){await J.delete("vaultkeeps/"+a.vaultId+"/keeps/"+a.keepId);e("removeKeepFromVault",a.keepId)},async getMyKeeps({commit:e,dispatch:t}){let a=await J.get("/keeps/user");e("setResource",{name:"myKeeps",data:a.data})},async deleteKeep({commit:e,dispatch:t},a){await J.delete("/keeps/"+a),e("deleteKeep",a)},async deleteVault({commit:e,dispatch:t},a){await J.delete("/vaults/"+a),e("deleteVault",a)}}}),G=a("4ae6"),Q=a.n(G);const Y="devwes.auth0.com",Z="https://devwes-api.com",ee="2WmLF6RC1x3apRhXs2sE71e2VvGswxuX";s["a"].use(h["a"],{domain:Y,clientId:ee,audience:Z,onRedirectCallback:e=>{L.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}}),s["a"].use(Q.a),new s["a"]({router:L,store:X,render:function(e){return e(w)}}).$mount("#app")},"5ace":function(e,t,a){},"5ced":function(e,t,a){},9948:function(e,t,a){"use strict";var s=a("5ace"),i=a.n(s);i.a},cccb:function(e,t,a){"use strict";var s=a("5ced"),i=a.n(s);i.a}});